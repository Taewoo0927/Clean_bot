name: CI Pipeline

on:
  push:

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: taewookim0927/msp430-gcc-container:latest
      
    steps:
      - name: run Checkout the repository
        uses: actions/checkout@v4

      - name: List ldscripts directory
        run: ls -l /usr/lib/gcc/msp430/*/ldscripts/

      - name: Build the project
        run: make -f Makefile_dir/Makefile all

      - name: Run Cppcheck
        run: make -f Makefile_dir/Makefile cppcheck
